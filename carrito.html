<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" href="assets/imagenes/icono.ico">
        <title>Tech Store</title>
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="assets/css/footer.css">
        <style>
        .carrito__productos {
            display: flex;
            flex-direction: column;
            gap: 15px;  
        }

        .carrito__item {
            display: flex;
            align-items: center;
           
        }
        </style>
    </head>
    <body>
        <header class="header">
            <div class="header__logo">
                <img src="assets/imagenes/icono.png" alt="Logo de Tech Store" width="150" height="150">
            </div>
            <nav class="header__nav">
                <ul class="header__nav-list">
                    <li><a href="index.html" class="header__nav-link">Inicio</a></li>
                    <li><a href="productos.html" class="header__nav-link">Productos</a></li>
                    <li><a href="carrito.html" class="header__nav-link">Carrito</a></li>
                    <li><a href="contacto.html" class="header__nav-link">Contacto</a></li>
                </ul>
            </nav>
        </header>

        <section class="carrito">
            <h2 class="carrito__titulo">Tu Carrito</h2>
            <div class="carrito__productos">
                <!-- Aquí se mostrarán los productos del carrito -->
            </div>
            <div class="carrito_total">
                <p>Subtotal: <span id="subtotal">0</span> $</p>
                <p>IVA (19%): <span id="iva">0</span> $</p>
                <p>Total: <span id="total">0</span> $</p>
            </div>
        </section>

        <div class="mensaje" id="mensaje"></div>
        <footer>
            <div class="footer__content">
                <p>&copy; 2025 Tech Store. Todos los derechos reservados.</p>
                <p>Proyecto realizado con: <strong>HTML</strong>, <strong>CSS</strong>, <strong>JavaScript</strong></p>
                <div class="footer__links">
                    <a href="index.html" target="_blank">Index</a> |
                    <a href="productos.html" target="_blank">Productos</a> |
                    <a href="carrito.html" target="_blank">Carrito</a> |
                    <a href="contacto.html" target="_blank">Contacto</a>
                </div>
                <p>Repositorio: <a href="https://github.com/hanz-saenz/techstore" target="_blank">GitHub</a></p>
            </div>
        </footer>
        <script>
            let itemsCarrito = document.querySelector(".carrito__productos");
            let subtotal = document.getElementById("subtotal");
            let iva = document.getElementById("iva");
            let total = document.getElementById("total");

            let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
            
            function mostrarCarrito() {
                let suma = 0;
                itemsCarrito.innerHTML="";
                carrito.forEach((producto, index) => {
                    suma += producto.precio * producto.cantidad;
                    itemsCarrito.innerHTML += `
                        <div class="carrito__item">
                            <img src="${producto.imagen}" alt="${producto.nombre}" class="carrito__item-imagen">
                            <div class="carrito__item-info">
                                <span>${producto.nombre}</span>
                                <span>$${producto.precio} x ${producto.cantidad}</span>

                            </div>
                        </div>
                    `;
                });

                subtotal.textContent = suma.toFixed(2);
                iva.textContent = (suma * 0.19).toFixed(2);
                total.textContent = (suma * 1.19).toFixed(2);
            }
            mostrarCarrito();
        </script>

    </body>

</html>